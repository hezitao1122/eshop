server:
  port: 58007

spring:
  application:
    name: amap-gateway
  cloud:
    sentinel:
      transport:
        #应用与Sentinel控制台交互的端口，应用本地会起一个该端口占用的HttpServer
        port: 50097
        dashboard: http://127.0.0.1:58087
    config:
      # config的绝对地址,如果不适用绝对地址,则需要引入eureka的配置
      uri: http://127.0.0.1:58013/amap-config
      name: ${spring.application.name}
      profile: ${spring.profiles.active}
      label: master
    gateway:
      routes:
        # 认证中心
        - id: amap-auth
          uri: lb://amap-auth
          predicates:
            - Path=/auth/**
          filters:
            # 验证码处理
            - ImageCodeGatewayFilter
            # 前端密码解密
            - PasswordDecoderFilter
        #UPMS 模块
        - id: amap-upms
          uri: lb://amap-upms
          predicates:
            - Path=/admin/**
        # 代码生成模块
        - id: amap-codegen
          uri: lb://amap-codegen
          predicates:
            - Path=/gen/**
        # APP模块
        - id: amap-upms-manager
          uri: lb://amap-upms-manager
          predicates:
            - Path=/manager/**
        # 定时任务模块
        - id: amap-daemon
          uri: lb://amap-daemon
          predicates:
            - Path=/daemon/**
        # 分布式事务管理模块
        - id: amap-tx-manager
          uri: lb://amap-tx-manager
          predicates:
            - Path=/tx/**
        # 统计分析
        - id: amap-statistic
          uri: lb://amap-statistic
          predicates:
            - Path=/stsc/**
        - id: amap-upms-sh
          uri: lb://amap-upms-sh
          predicates:
            - Path=/sh/**
        - id: my_route
          uri: http://127.0.0.1:8877
          predicates:
            - Path=/product/**
  profiles:
    active: org

ignore:
  clients:
    - test
    - murge