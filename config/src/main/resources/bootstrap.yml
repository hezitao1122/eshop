#内置端口号
server:
    port: 58013
tomcat:
    uri-encoding: UTF-8

spring:
  application:
    name: amap-config
  profiles:
    #使用配置文件格式
#    active: native
    #使用jdbc模式
    active: jdbc
  # 配置中心
  cloud:
    config:
      server:
        prefix: /amap-config
        jdbc:
          sql:  SELECT p_key, p_value  FROM property where application = :1  and profile = :2 and label = :3
          evnSql: SELECT ep.p_key, ep.p_value FROM ENV_PARAM ep join env e on ep.ENV_ID = e.ID where e.NAME = ?
  datasource:
    url: jdbc:mysql://192.168.31.223:3306/eshop?characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull&allowMultiQueries=true
    username: hezitao
    password: hezitao
    driver-class-name: com.mysql.cj.jdbc.Driver
    initialSize: 5
    maxActive: 200
    minIdle: 5
    maxWait: 60000
    timeBetweenEvictionRunsMillis: 60000
    minEvictableIdleTimeMillis: 300000
    validationQuery: select 'x'
    testWhileIdle: true
    testOnBorrow: false
    testOnReturn: false
    poolPreparedStatements: true
    maxOpenPreparedStatements: 20

# 注册中心配置
eureka:
  client:
    service-url:
      defaultZone: http://amap:amap@127.0.0.1:58001/eureka/
  instance:
      prefer-ip-address: true
      instance-id: ${spring.cloud.client.ip-address}:${server.port}
      lease-expiration-duration-in-seconds: 30
      lease-renewal-interval-in-seconds: 10
# 暴露监控端点
management:
  endpoints:
    web:
      exposure:
        include: '*'


encrypt:
  key: agreeAmap

